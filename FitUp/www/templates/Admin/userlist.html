<ion-view view-title="Fit-Up">
  <ion-content>


    <div class="setUserList">

      <!-- Serch bar -->
      <div class="bar bar-header item-input-inset">
        <label class="item-input-wrapper">
          <i class="icon ion-ios-search placeholder-icon"></i>
          <input type="search" placeholder="Search by Input email" ng-model="name"/>
        </label>
        <!--<button class="button button-dark" ng-click="searchUser(name)">-->
        <!--Search-->
        <!--</button>-->
      </div>
      <div align="center"><h3>USER INFORMATION</h3></div>

      <div class="" ng-repeat="user in users | filter:name">

        <td><b>ID:</b> {{ $index+1}}</td>
        <br>
        <td><b>Username:</b> {{ user.username}}</td>
        <br>
        <td><b>Status:</b> {{user['roles'][0]['roleName']}}</td>
        <br>
        <td><b>Email:</b> {{ user.email}}</td>

        <td>
          <div ng-controller="selectController">
            <form name="myForm">
              <label for="repeatSelect"> Select = </label>
              <select name="repeatSelect" id="repeatSelect" ng-model="roleName.roleSelected">
                <option ng-repeat="option in roleName.availableOptions" value="{{option.id}}">{{option.name}}
                </option>
              </select>
            </form>
            <tt>New Status = {{roleName.roleSelected}}</tt><br>
            <a href="" class="icon-left ion-ios-loop-strong" ng-click="changeRole(id)">Update
            </a>
          </div>
        </td>

        <td>
          <div align="center">
            <div ng-repeat="image in user.images">
              <img ng-src="data:{{image.contentType}};base64,{{image.content}}" class="thumbnail">
            </div>
          </div>
        </td>

        <td>
          <a href="" class="icon-left ion-ios-close-outline" ng-click="deleteUser(user.id)">Delete Account
          </a>
        </td>
        <hr>
        <br/>
      </div>

    </div>


  </ion-content>
</ion-view>
